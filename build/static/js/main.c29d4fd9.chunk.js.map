{"version":3,"sources":["components/load/load.js","components/dayItem/dayItem.js","components/dayList/dayList.js","service/services.js","components/dayPopup/dayPopup.js","components/navigate/navigate.js","components/app/app.js","index.js"],"names":["Load","className","React","Component","DayItem","this","props","data","day","month","name","dayData","imageLink","onClick","setActiveImage","DayList","daysMap","currentMonth","map","item","idx","key","Fragment","Services","body","JSON","stringify","fetch","method","headers","response","json","res","text","DayPopup","state","loadDone","setState","bol","classModifycate","e","closePopup","currentTarget","target","onLoad","imageLoad","src","alt","Navigate","num","String","length","updateMonth","date","addNum","getDate","getMonth","getFullYear","App","services","bind","dateNavigation","Date","loading","n","cd","monthNum","newDate","setMonth","then","Promise","all","getFull","setTimeout","currentDay","getAllUsers","document","cookie","includes","console","log","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c29d4fd9.chunk.js","sourcesContent":["import React from \"react\";\r\nimport './load.css';\r\n\r\nclass Load extends React.Component{\r\n    render() {\r\n        return(\r\n            <div className=\"loading-main\">\r\n                <div className=\"loading-main__loader\">\r\n                    <div className=\"loading-main__circle\"></div>\r\n                    <div className=\"loading-main__circle\"></div>\r\n                    <div className=\"loading-main__circle\"></div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Load;","import React from \"react\";\r\n\r\nclass DayItem extends React.Component{\r\n    render() {\r\n        let {day, month, name, imageLink} = this.props.data;\r\n        let dayData = {name: \"День солёного пловчика\", day, month, imageLink};\r\n        return(\r\n            <div className=\"day-item\" onClick={()=>this.props.setActiveImage(dayData)}>\r\n                <p className=\"day-item__day\">{day}</p>\r\n                <p className=\"day-item__month\">{month}</p>\r\n                <p className=\"day-item__name\">{name}</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DayItem;","import React from \"react\";\r\nimport DayItem from \"../dayItem/dayItem\";\r\n\r\nclass DayList extends React.Component{\r\n    render() {\r\n\r\n        let daysMap = this.props.data.currentMonth.map((item, idx)=>{\r\n            return <DayItem key={idx} setActiveImage={this.props.setActiveImage} data={{...item, day:idx+1}} />\r\n        })\r\n\r\n\r\n        return(\r\n            <React.Fragment>\r\n                { daysMap }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DayList;","class Services {\r\n    async getMonth (month){\r\n        let body = JSON.stringify({month});\r\n        let response = await fetch('/month-api',\r\n            {\r\n                method: 'POST',\r\n                body: body,\r\n                headers:{\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                }\r\n            }\r\n        );\r\n        return await response.json();\r\n    }\r\n    async getAllUsers (){\r\n        let res = await fetch('/api-gau');\r\n        let data = await res.text();\r\n        return data;\r\n    }\r\n    async getFull (day, month){\r\n        let body = JSON.stringify({day,month});\r\n        let response = await fetch('/days-full-api',\r\n            {\r\n                method: 'POST',\r\n                body: body,\r\n                headers:{\r\n                    'Content-Type': 'application/json;charset=utf-8'\r\n                }\r\n            }\r\n            );\r\n        return await response.json();\r\n    }\r\n}\r\nexport default Services;","import React from \"react\";\r\nimport './popup.css';\r\n\r\n\r\nclass DayPopup extends React.Component{\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            loadDone: false\r\n        }\r\n    }\r\n    imageLoad(){\r\n        this.setState({loadDone:true})\r\n    }\r\n    closePopup(bol){\r\n        if (bol) this.props.setActiveImage(null);\r\n    }\r\n\r\n    render() {\r\n        let classModifycate = this.state.loadDone ? '' : 'popup__image-wrapper_load';\r\n        return(\r\n            <div className=\"popup\" onClick={(e)=>this.closePopup(e.currentTarget == e.target)}>\r\n                <div className={`popup__image-wrapper ${classModifycate}`}>\r\n                    <img className='popup__image'\r\n                         onLoad={()=>this.imageLoad()}\r\n                         src={`/images${this.props.dayData.imageLink}.jpg`} alt=\"dayPhoto\"/>\r\n                    <div className=\"popup__loader\"> </div>\r\n                    <div className=\"popup__image-description\">\r\n                        <p>{this.props.dayData.day}</p>\r\n                        <p>{this.props.dayData.month}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DayPopup;","import React from \"react\";\r\nimport './navigate.css'\r\n\r\nclass Navigate extends React.Component{\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            loadDone: false\r\n        }\r\n    }\r\n    addNum(num){\r\n        if (String(num).length === 1) return `0${num}`;\r\n        return num;\r\n    }\r\n\r\n    render() {\r\n        let { updateMonth } = this.props;\r\n        let { date } = this.props;\r\n        return(\r\n            <div className=\"navigate\">\r\n                <p className=\"navigate__but\" onClick={()=>updateMonth(-1)}>&#8701;</p>\r\n                <p className=\"navigate__view\">{`${this.addNum(date.getDate())}.${this.addNum(date.getMonth()+1)}.${date.getFullYear()}`}</p>\r\n                <p className=\"navigate__but\" onClick={()=>updateMonth(1)}>&#8702;</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navigate;","import React from \"react\";\r\nimport Load from \"../load/load\";\r\nimport DayList from \"../dayList/dayList\";\r\nimport Services from \"../../service/services\";\r\nimport DayPopup from \"../dayPopup/dayPopup\";\r\nimport Navigate from \"../navigate/navigate\";\r\n\r\nclass App extends React.Component{\r\n    constructor() {\r\n        super();\r\n        this.services = new Services();\r\n        this.setActiveImage = this.setActiveImage.bind(this);\r\n        this.updateMonth = this.updateMonth.bind(this);\r\n        this.state = {\r\n            dateNavigation: new Date(),\r\n            dayData: null,\r\n            loading: true,\r\n            data: {}\r\n        }\r\n    }\r\n    setActiveImage(dayData){\r\n        this.setState({...this.state, dayData})\r\n    }\r\n    updateMonth(n){\r\n        let cd = this.state.dateNavigation;\r\n        let monthNum = cd.getMonth() + n;\r\n        let newDate = new Date(cd.setMonth(monthNum));\r\n        this.services.getMonth(newDate.getMonth())\r\n            .then(data => this.setState({...this.state, data: data, loading: false }))\r\n        this.setState({...this.state, dateNavigation: newDate, loading: true});\r\n    }\r\n\r\n    componentDidMount() {\r\n        const date = new Date();\r\n        const month = date.getMonth();\r\n        const day = date.getDate();\r\n        Promise.all([\r\n            this.services.getFull(day, month),\r\n            new Promise((res)=> setTimeout(()=>res(), 1000))\r\n        ]).then(([data]) => this.setState({loading: false, dayData: data.currentDay, data }));\r\n        this.getAllUsers();\r\n    }\r\n\r\n    getAllUsers(){\r\n        let gau = document.cookie.includes('gau')\r\n        if (gau) return this.services.getAllUsers().then(data=>console.log(data));\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) return <Load />\r\n\r\n        return(\r\n            <main className={`main main_${this.state.loading ? 'load' : 'content'}`}>\r\n                <DayList data={this.state.data} setActiveImage={this.setActiveImage} />\r\n                { this.state.dayData ? <DayPopup dayData={this.state.dayData} setActiveImage={this.setActiveImage} /> : null }\r\n                <Navigate updateMonth={this.updateMonth} date={this.state.dateNavigation} />\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/app'\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}