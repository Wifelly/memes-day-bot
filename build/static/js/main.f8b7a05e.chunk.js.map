{"version":3,"sources":["components/load/load.js","components/dayItem/dayItem.js","components/dayList/dayList.js","service/services.js","components/dayPopup/dayPopup.js","components/navigate/navigate.js","components/app/app.js","index.js"],"names":["Load","className","React","Component","DayItem","this","props","data","day","month","name","dayData","imageLink","onClick","setActiveImage","DayList","daysMap","currentMonth","map","item","idx","key","Fragment","Services","server","body","JSON","stringify","fetch","method","mode","headers","response","json","res","text","DayPopup","state","loadDone","setState","bol","classModifycate","e","closePopup","currentTarget","target","onLoad","imageLoad","src","alt","Navigate","num","String","length","updateMonth","date","addNum","getDate","getMonth","getFullYear","App","services","bind","dateNavigation","Date","loading","n","cd","monthNum","newDate","setMonth","then","Promise","all","getFull","setTimeout","currentDay","getAllUsers","document","cookie","includes","console","log","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f8b7a05e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport './load.css';\r\n\r\nclass Load extends React.Component{\r\n    render() {\r\n        return(\r\n            <div className=\"loading-main\">\r\n                <div className=\"loading-main__loader\">\r\n                    <div className=\"loading-main__circle\"></div>\r\n                    <div className=\"loading-main__circle\"></div>\r\n                    <div className=\"loading-main__circle\"></div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Load;","import React from \"react\";\r\n\r\nclass DayItem extends React.Component{\r\n    render() {\r\n        let {day, month, name, imageLink} = this.props.data;\r\n        let dayData = {name: \"День солёного пловчика\", day, month, imageLink};\r\n        return(\r\n            <div className=\"day-item\" onClick={()=>this.props.setActiveImage(dayData)}>\r\n                <p className=\"day-item__day\">{day}</p>\r\n                <p className=\"day-item__month\">{month}</p>\r\n                <p className=\"day-item__name\">{name}</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DayItem;","import React from \"react\";\r\nimport DayItem from \"../dayItem/dayItem\";\r\n\r\nclass DayList extends React.Component{\r\n    render() {\r\n\r\n        let daysMap = this.props.data.currentMonth.map((item, idx)=>{\r\n            return <DayItem key={idx} setActiveImage={this.props.setActiveImage} data={{...item, day:idx+1}} />\r\n        })\r\n\r\n\r\n        return(\r\n            <React.Fragment>\r\n                { daysMap }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DayList;","class Services {\r\n    constructor() {\r\n        this.server = 'https://quiet-meadow-77712.herokuapp.com';\r\n    }\r\n    async getMonth (month){\r\n        let body = JSON.stringify({month});\r\n        let response = await fetch(`${this.server}/month-api`,\r\n            {\r\n                method: 'POST',\r\n                mode: 'no-cors',\r\n                body: body,\r\n                headers:{\r\n                    'Access-Control-Allow-Origin': 'no-cors',\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n            }\r\n        );\r\n        return await response.json();\r\n    }\r\n    async getAllUsers (){\r\n        let res = await fetch(`${this.server}/api-gau`, {\r\n            method: 'GET',\r\n            mode: 'no-cors',\r\n        });\r\n\r\n        let data = await res.text();\r\n        return data;\r\n    }\r\n    async getFull (day, month){\r\n        let body = JSON.stringify({day,month});\r\n        let response = await fetch(`${this.server}/days-full-api`,\r\n            {\r\n                method: 'POST',\r\n                mode: 'no-cors',\r\n                body: body,\r\n                headers:{\r\n                    'Access-Control-Allow-Origin': '*',\r\n                    'Content-Type': 'application/x-www-form-urlencoded'\r\n                }\r\n            }\r\n            );\r\n        return await response.json();\r\n    }\r\n}\r\nexport default Services;","import React from \"react\";\r\nimport './popup.css';\r\n\r\n\r\nclass DayPopup extends React.Component{\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            loadDone: false\r\n        }\r\n    }\r\n    imageLoad(){\r\n        this.setState({loadDone:true})\r\n    }\r\n    closePopup(bol){\r\n        if (bol) this.props.setActiveImage(null);\r\n    }\r\n\r\n    render() {\r\n        let classModifycate = this.state.loadDone ? '' : 'popup__image-wrapper_load';\r\n        return(\r\n            <div className=\"popup\" onClick={(e)=>this.closePopup(e.currentTarget == e.target)}>\r\n                <div className={`popup__image-wrapper ${classModifycate}`}>\r\n                    <img className='popup__image'\r\n                         onLoad={()=>this.imageLoad()}\r\n                         src={`/images${this.props.dayData.imageLink}.jpg`} alt=\"dayPhoto\"/>\r\n                    <div className=\"popup__loader\"> </div>\r\n                    <div className=\"popup__image-description\">\r\n                        <p>{this.props.dayData.day}</p>\r\n                        <p>{this.props.dayData.month}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DayPopup;","import React from \"react\";\r\nimport './navigate.css'\r\n\r\nclass Navigate extends React.Component{\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            loadDone: false\r\n        }\r\n    }\r\n    addNum(num){\r\n        if (String(num).length === 1) return `0${num}`;\r\n        return num;\r\n    }\r\n\r\n    render() {\r\n        let { updateMonth } = this.props;\r\n        let { date } = this.props;\r\n        return(\r\n            <div className=\"navigate\">\r\n                <p className=\"navigate__but\" onClick={()=>updateMonth(-1)}>&#8701;</p>\r\n                <p className=\"navigate__view\">{`${this.addNum(date.getDate())}.${this.addNum(date.getMonth()+1)}.${date.getFullYear()}`}</p>\r\n                <p className=\"navigate__but\" onClick={()=>updateMonth(1)}>&#8702;</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navigate;","import React from \"react\";\r\nimport Load from \"../load/load\";\r\nimport DayList from \"../dayList/dayList\";\r\nimport Services from \"../../service/services\";\r\nimport DayPopup from \"../dayPopup/dayPopup\";\r\nimport Navigate from \"../navigate/navigate\";\r\n\r\nclass App extends React.Component{\r\n    constructor() {\r\n        super();\r\n        this.services = new Services();\r\n        this.setActiveImage = this.setActiveImage.bind(this);\r\n        this.updateMonth = this.updateMonth.bind(this);\r\n        this.state = {\r\n            dateNavigation: new Date(),\r\n            dayData: null,\r\n            loading: true,\r\n            data: {}\r\n        }\r\n    }\r\n    setActiveImage(dayData){\r\n        this.setState({...this.state, dayData})\r\n    }\r\n    updateMonth(n){\r\n        let cd = this.state.dateNavigation;\r\n        let monthNum = cd.getMonth() + n;\r\n        let newDate = new Date(cd.setMonth(monthNum));\r\n        this.services.getMonth(newDate.getMonth())\r\n            .then(data => this.setState({...this.state, data: data, loading: false }))\r\n        this.setState({...this.state, dateNavigation: newDate, loading: true});\r\n    }\r\n\r\n    componentDidMount() {\r\n        const date = new Date();\r\n        const month = date.getMonth();\r\n        const day = date.getDate();\r\n        Promise.all([\r\n            this.services.getFull(day, month),\r\n            new Promise((res)=> setTimeout(()=>res(), 1000))\r\n        ]).then(([data]) => this.setState({loading: false, dayData: data.currentDay, data }));\r\n        this.getAllUsers();\r\n    }\r\n\r\n    getAllUsers(){\r\n        let gau = document.cookie.includes('gau')\r\n        if (gau) return this.services.getAllUsers().then(data=>console.log(data));\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) return <Load />\r\n\r\n        return(\r\n            <main className={`main main_${this.state.loading ? 'load' : 'content'}`}>\r\n                <DayList data={this.state.data} setActiveImage={this.setActiveImage} />\r\n                { this.state.dayData ? <DayPopup dayData={this.state.dayData} setActiveImage={this.setActiveImage} /> : null }\r\n                <Navigate updateMonth={this.updateMonth} date={this.state.dateNavigation} />\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/app'\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}